---
title: Database Branching for Supabase
subtitle: Git-like branching for databases
date: 2023-08-10
description: Building the UI for Supabase's database branching feature.
image: /fjord-twilight.png
prImages:
  - /pr-images/supabase-branching-pr20926-1.png
  - /pr-images/supabase-branching-pr20926-2.png
  - /pr-images/supabase-branching-pr31036-3.png
prs:
  - number: 27064
    repo: "supabase/supabase"
    title: "[Dashboard] fix: dialog branching, add `block`"
    url: "https://github.com/supabase/supabase/pull/27064"
    date: "2024-06-06"
  - number: 20721
    repo: "supabase/supabase"
    title: "Clearer Branching Docs lang regarding private early access"
    url: "https://github.com/supabase/supabase/pull/20721"
    date: "2024-02-12"
  - number: 19464
    repo: "supabase/supabase"
    title: "chore/update-warnings-for-branching"
    url: "https://github.com/supabase/supabase/pull/19464"
    date: "2024-02-12"
  - number: 20926
    repo: "supabase/supabase"
    title: "Chore/add feedback links branching"
    url: "https://github.com/supabase/supabase/pull/20926"
    date: "2024-02-01"
  - number: 20608
    repo: "supabase/supabase"
    title: "[branching] remove early branching access link"
    url: "https://github.com/supabase/supabase/pull/20608"
    date: "2024-01-21"
  - number: 20506
    repo: "supabase/supabase"
    title: "Update branching blog post"
    url: "https://github.com/supabase/supabase/pull/20506"
    date: "2024-01-17"
  - number: 20505
    repo: "supabase/supabase"
    title: "Remove branching early access support link"
    url: "https://github.com/supabase/supabase/pull/20505"
    date: "2024-01-17"
  - number: 19876
    repo: "supabase/supabase"
    title: "Remove regions issues from Branching docs"
    url: "https://github.com/supabase/supabase/pull/19876"
    date: "2023-12-19"
  - number: 19740
    repo: "supabase/supabase"
    title: "Chore/update branching copy"
    url: "https://github.com/supabase/supabase/pull/19740"
    date: "2023-12-15"
  - number: 19736
    repo: "supabase/supabase"
    title: "Update EnableBranchingModal.tsx"
    url: "https://github.com/supabase/supabase/pull/19736"
    date: "2023-12-14"
  - number: 19715
    repo: "supabase/supabase"
    title: "Update branching info"
    url: "https://github.com/supabase/supabase/pull/19715"
    date: "2023-12-14"
  - number: 19583
    repo: "supabase/supabase"
    title: "Added more clarity / detail to remote/local development for Branching"
    url: "https://github.com/supabase/supabase/pull/19583"
    date: "2023-12-11"
  - number: 19504
    repo: "supabase/supabase"
    title: "Clarify current region issues for Branching"
    url: "https://github.com/supabase/supabase/pull/19504"
    date: "2023-12-07"
  - number: 15948
    repo: "supabase/platform"
    title: "Feat/vercel branching env var support"
    url: "https://github.com/supabase/platform/pull/15948"
    date: "2023-12-05"
  - number: 19400
    repo: "supabase/supabase"
    title: "Update branching docs warnings"
    url: "https://github.com/supabase/supabase/pull/19400"
    date: "2023-12-04"
  - number: 15968
    repo: "supabase/platform"
    title: "Check feature flag check before allowing opt in for branching"
    url: "https://github.com/supabase/platform/pull/15968"
    date: "2023-11-30"
  - number: 19025
    repo: "supabase/supabase"
    title: "Update branching popover alignment"
    url: "https://github.com/supabase/supabase/pull/19025"
    date: "2023-11-27"
  - number: 18762
    repo: "supabase/supabase"
    title: "[Docs] [Branching] Chore/branching docs"
    url: "https://github.com/supabase/supabase/pull/18762"
    date: "2023-11-15"
  - number: 14988
    repo: "supabase/platform"
    title: "branching org IDs for QA - Update constants.ts"
    url: "https://github.com/supabase/platform/pull/14988"
    date: "2023-09-28"
  - number: 16179
    repo: "supabase/supabase"
    title: "Feat/branch management 2  with project settings"
    url: "https://github.com/supabase/supabase/pull/16179"
    date: "2023-08-10"
  - number: 13703
    repo: "supabase/platform"
    title: "Update org ids for testing branching in staging"
    url: "https://github.com/supabase/platform/pull/13703"
    date: "2023-07-25"
  - number: 15619
    repo: "supabase/supabase"
    title: "Hotfix/vercel integration migrations url undefined branch"
    url: "https://github.com/supabase/supabase/pull/15619"
    date: "2023-07-07"
  - number: 13707
    repo: "supabase/supabase"
    title: "Add 'studio' branch (prod) to Studio unit tests"
    url: "https://github.com/supabase/supabase/pull/13707"
    date: "2023-04-14"
  - number: 6655
    repo: "supabase/supabase"
    title: "Merge branch 'master' into fix/strip-headers-test"
    url: "https://github.com/supabase/supabase/pull/6655"
    date: "2022-05-02"
  - number: 31036
    repo: "supabase/supabase"
    title: "move button"
    url: "https://github.com/supabase/supabase/pull/31036"
    date: "2024-12-10"
  - number: 21483
    repo: "supabase/supabase"
    title: "fix: update brand colors in SQL editor AI"
    url: "https://github.com/supabase/supabase/pull/21483"
    date: "2024-02-23"
  - number: 16617
    repo: "supabase/platform"
    title: "Remove 'preview' and 'development' targets for Vercel integration"
    url: "https://github.com/supabase/platform/pull/16617"
    date: "2024-01-09"
  - number: 14062
    repo: "supabase/platform"
    title: "chore: add PATCH endpoints for integration project connections"
    url: "https://github.com/supabase/platform/pull/14062"
    date: "2023-08-03"
  - number: 13883
    repo: "supabase/platform"
    title: "Update constants.ts"
    url: "https://github.com/supabase/platform/pull/13883"
    date: "2023-07-26"
  - number: 15872
    repo: "supabase/supabase"
    title: "Fix vercel previews to auth redirect reliably "
    url: "https://github.com/supabase/supabase/pull/15872"
    date: "2023-07-18"
  - number: 294
    repo: "supabase/ui"
    title: "hotfix: fix: quick fix for tabs content."
    url: "https://github.com/supabase/ui/pull/294"
    date: "2021-11-26"
  - number: 273
    repo: "supabase/ui"
    title: "Feat/update radix"
    url: "https://github.com/supabase/ui/pull/273"
    date: "2021-09-14"
---



## Related Pull Requests

<PRTable slug="supabase-branching" />
Database branching brings the Git workflow to databasesâ€”create a branch, make schema changes, test them, then merge back. I worked on the branching UI and Vercel integration for this feature.

## The Feature

Branching allows developers to:

- **Create branches** from their production database
- **Test changes** without affecting production
- **Preview deployments** with their own database
- **Merge changes** back to production

## Branch Management UI

The branch management interface lives in project settings:

```tsx title="Branch list"
<div className="space-y-4">
  {branches.map((branch) => (
    <Card key={branch.id}>
      <CardHeader className="flex flex-row items-center justify-between">
        <div className="flex items-center gap-2">
          <GitBranchIcon className="h-4 w-4" />
          <span className="font-medium">{branch.name}</span>
          {branch.is_default && (
            <Badge variant="secondary">production</Badge>
          )}
        </div>
        <DropdownMenu>
          <DropdownMenuTrigger asChild>
            <Button variant="ghost" size="sm">
              <MoreHorizontalIcon />
            </Button>
          </DropdownMenuTrigger>
          <DropdownMenuContent>
            <DropdownMenuItem onClick={() => viewBranch(branch)}>
              View Details
            </DropdownMenuItem>
            <DropdownMenuItem onClick={() => resetBranch(branch)}>
              Reset Branch
            </DropdownMenuItem>
            {!branch.is_default && (
              <DropdownMenuItem 
                onClick={() => deleteBranch(branch)}
                className="text-destructive"
              >
                Delete Branch
              </DropdownMenuItem>
            )}
          </DropdownMenuContent>
        </DropdownMenu>
      </CardHeader>
      <CardContent>
        <div className="text-sm text-muted-foreground">
          Created {formatRelative(branch.created_at)}
        </div>
      </CardContent>
    </Card>
  ))}
</div>
```

## Vercel Integration

Branching integrates with Vercel for preview deployments:

```typescript title="Vercel environment sync"
async function syncVercelEnvironment(branch: Branch, project: VercelProject) {
  // Update environment variables for the preview deployment
  await vercel.updateEnvVars(project.id, {
    target: 'preview',
    gitBranch: branch.git_branch,
    envs: [
      { key: 'DATABASE_URL', value: branch.connection_string },
      { key: 'SUPABASE_URL', value: branch.api_url },
      { key: 'SUPABASE_ANON_KEY', value: branch.anon_key },
    ],
  })
}
```

## Enable Branching Modal

A modal guides users through enabling branching:

```tsx title="Enable branching modal"
<Dialog open={isOpen} onOpenChange={setIsOpen}>
  <DialogContent>
    <DialogHeader>
      <DialogTitle>Enable Branching</DialogTitle>
      <DialogDescription>
        Database branching creates isolated copies of your database 
        for testing and preview deployments.
      </DialogDescription>
    </DialogHeader>
    
    <div className="space-y-4">
      <Alert>
        <AlertTitle>Requirements</AlertTitle>
        <AlertDescription>
          <ul className="list-disc list-inside">
            <li>Pro plan or higher</li>
            <li>GitHub integration enabled</li>
            <li>At least one connected repository</li>
          </ul>
        </AlertDescription>
      </Alert>
      
      {!meetsRequirements && (
        <Button onClick={requestEarlyAccess}>
          Request Early Access
        </Button>
      )}
      
      {meetsRequirements && (
        <Button onClick={enableBranching}>
          Enable Branching
        </Button>
      )}
    </div>
  </DialogContent>
</Dialog>
```

## Documentation Updates

I also updated the branching documentation with:

- Clear requirements and limitations
- Step-by-step setup guides
- Troubleshooting for common issues
- Migration guidance for teams

## Result

Database branching is one of Supabase's most innovative features, bringing modern development workflows to database management. The UI makes complex branching operations accessible to all developers.

## Screenshots

Visual documentation from the pull requests:

### Chore/add feedback links branching

![Screenshot](/pr-images/supabase-branching-pr20926-1.png)

![Screenshot](/pr-images/supabase-branching-pr20926-2.png)

![move button](/pr-images/supabase-branching-pr31036-3.png)

